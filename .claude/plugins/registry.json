{
  "version": "1.0",
  "detection_priority": ["file_patterns", "tags", "content_signals"],
  "plugins": {
    "substrate-architect": {
      "interface": "plugins/interfaces/substrate.md",
      "full_context": "plugins/substrate-architect.md",
      "activation": {
        "tags": ["pallets", "substrate", "on-chain", "runtime", "moonbeam"],
        "file_patterns": ["pallets/**/*.rs", "runtime/**/*.rs", "**/pallet-*.rs"],
        "content_signals": ["#[pallet::", "frame_support", "pallet-icn-", "StorageValue", "StorageMap"]
      },
      "health_check": "rustc --version && cargo --version",
      "gate_injections": {
        "L0_blocking": ["unbounded_storage", "unsafe_migration"],
        "L1_critical": ["weight_plan_required", "storage_type_validation"],
        "L2_mandatory": ["benchmarks_exist", "runtime_integration"],
        "L3_standard": ["migration_guide", "pallet_coupling_docs"]
      }
    },
    "vram-oracle": {
      "interface": "plugins/interfaces/vram.md",
      "full_context": "plugins/vram-oracle.md",
      "activation": {
        "tags": ["vortex", "ai-ml", "gpu", "pytorch", "cuda"],
        "file_patterns": ["vortex/**/*.py", "**/models/**/*.py", "**/pipeline/**/*.py"],
        "content_signals": ["torch.cuda", "model.to(device)", "VRAM", ".half()", "quantize"]
      },
      "health_check": "python3 --version",
      "gate_injections": {
        "L0_blocking": ["exceeds_12gb_budget", "dynamic_model_loading"],
        "L1_critical": ["static_residency_required", "memory_profiling_plan"],
        "L2_mandatory": ["vram_budget_validated", "oom_test_exists"],
        "L3_standard": ["stage_breakdown_documented"]
      }
    },
    "bft-prover": {
      "interface": "plugins/interfaces/bft.md",
      "full_context": "plugins/bft-prover.md",
      "activation": {
        "tags": ["bft", "consensus", "director", "attestation", "vrf"],
        "file_patterns": ["**/consensus/**/*.rs", "**/bft/**/*.rs", "**/director/**/*.rs"],
        "content_signals": ["BftConsensusResult", "attestation", "VRF", "threshold", "Byzantine"]
      },
      "health_check": null,
      "gate_injections": {
        "L0_blocking": ["consensus_threshold_invalid", "vrf_not_specified"],
        "L1_critical": ["attestation_logic_required", "slashing_conditions"],
        "L2_mandatory": ["adversarial_tests_exist", "challenge_window_validated"],
        "L3_standard": ["edge_cases_documented", "formal_hints"]
      }
    }
  }
}

