# =============================================================================
# NSN Testnet Environment Configuration
# =============================================================================
# Copy this file to .env and customize values for your deployment
# cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Version and Chain Configuration
# -----------------------------------------------------------------------------
NSN_VERSION=0.1.0
NSN_CHAIN=nsn-testnet

# -----------------------------------------------------------------------------
# Validator Node Ports
# -----------------------------------------------------------------------------
# Alice (Primary validator)
ALICE_P2P_PORT=30333
ALICE_RPC_PORT=9944
ALICE_PROMETHEUS_PORT=9615

# Bob
BOB_P2P_PORT=30334
BOB_RPC_PORT=9945
BOB_PROMETHEUS_PORT=9616

# Charlie
CHARLIE_P2P_PORT=30335
CHARLIE_RPC_PORT=9946
CHARLIE_PROMETHEUS_PORT=9617

# -----------------------------------------------------------------------------
# Peer IDs (Generate with subkey generate-node-key)
# These must match the node keys in ./secrets/
# -----------------------------------------------------------------------------
ALICE_PEER_ID=12D3KooWAlicePlaceholder
BOB_PEER_ID=12D3KooWBobPlaceholder
CHARLIE_PEER_ID=12D3KooWCharliePlaceholder

# -----------------------------------------------------------------------------
# Off-Chain Director Nodes
# -----------------------------------------------------------------------------
DIRECTOR1_P2P_PORT=9000
DIRECTOR1_METRICS_PORT=9100
DIRECTOR1_SURI=//Director1

DIRECTOR2_P2P_PORT=9001
DIRECTOR2_METRICS_PORT=9101
DIRECTOR2_SURI=//Director2

# -----------------------------------------------------------------------------
# Vortex AI Engine (GPU)
# -----------------------------------------------------------------------------
CUDA_VISIBLE_DEVICES=0
VORTEX_MAX_VRAM_GB=11.8
VORTEX_BATCH_SIZE=1
VORTEX_GRPC_PORT=50051
VORTEX_METRICS_PORT=9102

# -----------------------------------------------------------------------------
# Signaling Server
# -----------------------------------------------------------------------------
SIGNALING_PORT=8080

# -----------------------------------------------------------------------------
# IPFS Storage
# -----------------------------------------------------------------------------
IPFS_API_PORT=5001
IPFS_GATEWAY_PORT=8081
IPFS_SWARM_PORT=4001

# -----------------------------------------------------------------------------
# Observability Stack
# -----------------------------------------------------------------------------
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_DAYS=15

# Grafana (REQUIRED: Change this password!)
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION
GRAFANA_ANONYMOUS_ENABLED=false
GRAFANA_ROOT_URL=http://localhost:3000

# Jaeger (enable with --profile tracing)
JAEGER_UI_PORT=16686
JAEGER_OTLP_GRPC_PORT=4317
JAEGER_OTLP_HTTP_PORT=4318

# -----------------------------------------------------------------------------
# NAT Traversal (STUN/TURN)
# -----------------------------------------------------------------------------
STUN_PORT=3478
TURN_TLS_PORT=5349
TURN_USER=nsn
TURN_PASSWORD=CHANGE_ME_IN_PRODUCTION
TURN_REALM=nsn.network
EXTERNAL_IP=

# -----------------------------------------------------------------------------
# Security & CORS
# -----------------------------------------------------------------------------
# Additional allowed origins for RPC (comma-separated)
NSN_ALLOWED_ORIGINS=

# -----------------------------------------------------------------------------
# Telemetry
# -----------------------------------------------------------------------------
NSN_TELEMETRY_URL=wss://telemetry.nsn.network/submit

# -----------------------------------------------------------------------------
# Bootnodes (for joining existing network)
# -----------------------------------------------------------------------------
NSN_BOOTNODES=

# -----------------------------------------------------------------------------
# Resource Limits
# -----------------------------------------------------------------------------
VALIDATOR_MEMORY_LIMIT=4G
VALIDATOR_CPU_LIMIT=2
DIRECTOR_MEMORY_LIMIT=2G
DIRECTOR_CPU_LIMIT=1
VORTEX_MEMORY_LIMIT=16G
SIGNALING_MEMORY_LIMIT=256M
IPFS_MEMORY_LIMIT=2G
PROMETHEUS_MEMORY_LIMIT=2G
GRAFANA_MEMORY_LIMIT=512M
JAEGER_MEMORY_LIMIT=1G
STUN_TURN_MEMORY_LIMIT=512M

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info
